<div class="row">
    <div class="col-md-7">
        <div class="card">
            <div class="card-header">
                <h2 style="text-align: center;"><strong>Create Training Session</strong></h2>
                <h3 style="text-align: center;"><strong>Basic Information</strong></h3>
            </div>
            <div class="card-body">
                <form class="form-horizontal" (ngSubmit)="onSubmit()" ngNativeValidate>

                    <div class="form-group row">
                        <label class="col-md-4 col-form-label" for="text-input">Session Name</label>
                        <div class="col-md-8">
                            <input type="text" id="sessionName" [(ngModel)]="trainingSession.sessionName" name="sessionName" class="form-control" placeholder="Front end development" required>
                        </div>
                    </div>


                    <div class="form-group row">
                        <label class="col-md-4 col-form-label" for="date-input">Start Date</label>
                        <div class="col-md-8">
                            <input class="form-control" id="startDate" [(ngModel)]="trainingSession.startDate" type="date" name="startDate" placeholder="date" required>
                        </div>
                    </div>

                    <div class="form-group row">
                        <label class="col-md-4 col-form-label" for="number-input">Duration</label>
                        <div class="col-md-8">
                            <input type="number" id="duration" [(ngModel)]="trainingSession.duration" name="duration" class="form-control " required>
                        </div>
                    </div>

                    <div class="form-group row">
                        <label class="col-md-4 col-form-label" for="number-input">Max Participants</label>
                        <div class="col-md-8">
                            <input type="number" id="maxParticipants" [(ngModel)]="trainingSession.maxParticipants" name="maxParticipants" class="form-control " required>
                        </div>
                    </div>

                    <div class="form-group row">
                        <label class="col-md-4 col-form-label" for="text-input">IFS Application Version</label>
                        <div class="col-md-8">
                            <input type="text" id="ifsApplicationVersion" [(ngModel)]="trainingSession.ifsApplicationVersion" name="ifsApplicationVersion" class="form-control" placeholder="enter application version" required>
                        </div>
                    </div>

                    <div class="form-group row">
                        <label class="col-md-4 col-form-label" for="number-input">Buffer Time</label>
                        <div class="col-md-8">
                            <input type="number" id="bufferTime" [(ngModel)]="trainingSession.bufferTime" name="bufferTime" class="form-control ">
                        </div>
                    </div>

                    <div class="form-group row">
                        <label class="col-md-4 col-form-label" for="text-input">Manager Comment</label>
                        <div class="col-md-8">
                            <input type="text" id="managerComment" [(ngModel)]="trainingSession.managerComment" name="managerComment" class="form-control" placeholder="enter special comment">
                        </div>
                    </div>

                    <div class="form-group row ">
                        <label class="col-md-4 col-form-label " for="select1 ">Training Session Type</label>
                        <div class="col-md-8">
                            <select id="trainingSessionType " [(ngModel)]="trainingSession.type" name="trainingSessionType" class="form-control " required>
                                <option [ngValue]="SessionType" disabled selected>Select Session Type</option>
                                <option value="Functional">Functional</option>
                                <option value="Technical">Technical</option>
                                <option value="Developer">Developer</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-group row ">
                        <label class="col-md-4 col-form-label " for="deliveryMethod">Delivery Method</label>
                        <div class="col-md-8">
                            <select id="deliveryMethod" [(ngModel)]="trainingSession.deliveryMethod" name="deliveryMethod" class="form-control " required>
                                <option [ngValue]="deliveryMethod" disabled selected>Select Delivery Method</option>
                                <option value="Inbound">Inound</option>
                                <option value="Outbound">Outbound</option>
                                <option value="Virtual">Virtual</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-group row ">
                        <label class="col-md-4 col-form-label " for="trainingCoordinator">Training Coordinator</label>
                        <div class="col-md-8">
                            <select id="trainingCoordinator" [(ngModel)]="trainingSession.trainingCordinator" name="trainingCoordinator" class="form-control ">
                                <option [ngValue]="trainingCoordinator" disabled selected>Select Training Coordinator</option>
                                <option *ngFor="let trainingCordinator of availabletrainingCordinators" [ngValue]="trainingCordinator" >{{trainingCordinator.name}}</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-group row ">
                        <label class="col-md-4 col-form-label " for="trainingLocation">Training Location</label>
                        <div class="col-md-8">
                            <select id="trainingLocation" [(ngModel)]="trainingSession.location" name="trainingLocation" class="form-control ">
                                <option [ngValue]="trainingLocation" disabled selected>Select Training Location</option>
                                <option *ngFor="let location of availablelocations" [ngValue]="location">
                                     {{location.region}} - {{location.locationName}}
                                  </option>                            
                                </select>

                        </div>
                    </div>

                    <div class="form-group row ">
                        <label class="col-md-4 col-form-label " for="trainingRoom">Training Room</label>
                        <div class="col-md-8">
                            <select id="trainingRoom" [(ngModel)]="trainingSession.trainingRoom" name="trainingRoom" class="form-control ">
                                <option [ngValue]="trainingRoom" disabled selected>Select Training Room Capacity</option>
                                <option *ngFor="let trainingRoom of availabletrainingRooms" [ngValue]="trainingRoom">
                                    trainingRoom Capacity is : {{trainingRoom.capacity}}
                                  </option>    
                            </select>
                        </div>
                    </div>

                    <div class="form-group row ">

                        <div class="col-md-6">
                            <button type="submit" class="btn btn-success btn-block"><i class="fa fa-dot-circle-o "></i>Create Session</button>
                        </div>
                        <div class="col-md-6">
                            <button type="reset" class="btn btn-danger btn-block"><i class="fa fa-ban "></i> Reset</button>
                        </div>

                    </div>


                </form>
            </div>
        </div>

    </div>
    <div class="col-md-5 ">
        <div class="card">
            <div class="card-header">
                <h2 style="text-align: center;"><strong>VM Allocation Section</strong></h2>
            </div>
            <div class="card-body">

                <!--<form (ngSubmit)="getAvailableVM()">-->

                <button class="btn btn-block btn-outline-info mb-3" (click)="getAvailableVM()">Get Available VirtualMachines</button>

                <!--</form>-->
                <div class="form-group row">
                    <label class="col-md-3 col-form-label " for="trainingRoom"> Available VMs</label>
                    <div class="col-md-9">
                        <select [(ngModel)]="virtualMachineId" name="virtualMachineId" id="virtualMachineId" class="form-control ">
                            <option [ngValue]="virtualMachine" disabled selected>Select Virtual Machines</option>
                            <option *ngFor="let virtualMachine of availableVirtualMachines" [value]="virtualMachine.virtualMachineId">
                                Id is : {{virtualMachine.virtualMachineId}} region : {{virtualMachine.region}} Version is {{virtualMachine.version}}
                            </option>
                        </select>
                    </div>
                </div>

                <form (ngSubmit)="addVm()">
                    <div class="form-group row ">
                        <label class="col-md-3 col-form-label "> </label>
                        <button class="btn btn-outline-success col-md-6" type="submit">Add Vm</button>
                    </div>
                </form>

                <div class="form-group row ">
                    <label class="col-md-12 col-form-label"><b> Added Virtual Machines :</b></label>
                </div>

                <div class="form-group row ">
                    <li *ngFor="let temp of trainingSession.virtualMachines" class="col-md-12 mb-2 ">

                        VM Id : {{temp.virtualMachineId}} VM Name {{temp.name}}
                        <button (click)="removeVirtualMachineID(temp)" class="btn btn-danger">Delete</button>
                    </li>
                </div>

            </div>


            <div class="card-header">
                <h2 style="text-align: center;"><strong>Trainer Allocation Section</strong></h2>
            </div>

            <div class="card-body">

                <form (ngSubmit)="getAvailableTrainers()">
                    <button class="btn btn-block btn-outline-info mb-3" type="submit">Get Available Trainers</button>
                </form>

                <div class="form-group row">
                    <label class="col-md-3 col-form-label " for="trainingRoom"> Available Trainers</label>
                    <div class="col-md-9">
                        <select [(ngModel)]="trainerId" name="trainerId" id="trainerId" class="form-control ">
                            <option [ngValue]="trainers" disabled selected>Select Trainers</option>
                            <option *ngFor="let trainer of availableTrainers" [value]="trainer.trainerId">
                                    Name : {{trainer.name}} specialities are {{trainer.qualifications}}
                            </option>
                        </select>
                    </div>
                </div>

                <form (ngSubmit)="addTrainer()">
                    <div class="form-group row ">
                        <label class="col-md-3 col-form-label "> </label>
                        <button class="btn btn-outline-success col-md-6" type="submit">Add Trainer</button>
                    </div>
                </form>

                <div class="form-group row ">
                    <h4 class="col-md-12 col-form-label"><b> Added Trainers :</b></h4>
                </div>

                <div class="form-group row ">
                    <li *ngFor="let temp of trainingSession.trainers" class="col-md-12 mb-2 ">

                        Trainer Id : {{temp.trainerId}} {{temp.name}}
                        <button (click)="removeTrainer(temp)" class="btn btn-danger">Delete</button>
                    </li>
                </div>

            </div>
        </div>
    </div>
</div>


<div class="row">
    <div class="col-sm-3 col-md-2">

    </div>
    <div class="col-sm-9 col-md-8">
        <div class="card">
            <div class="card-header">
                <h2 style="text-align: center;">
                    <i class="icon-calendar"></i>
                    <strong>Training Session Calender</strong>
                </h2>
            </div>
            <div class="card-body">
                <div class="col-6 col-sm-4 col-md-2 col-xl mb-3 mb-xl-0">
                    <button class="btn btn-block btn-outline-info mb-3" (click)="loadTrainingSession()">Load Training Sessions on Calender </button>
                </div>
                <div class="row text-center" id="calender">

                    <div class="col-md-4">
                        <div class="btn-group">
                            <div class="btn btn-primary" mwlCalendarPreviousView [view]="view" [(viewDate)]="viewDate">
                                Previous
                            </div>
                            <div class="btn btn-outline-secondary" mwlCalendarToday [(viewDate)]="viewDate">
                                Today
                            </div>
                            <div class="btn btn-primary" mwlCalendarNextView [view]="view" [(viewDate)]="viewDate">
                                Next
                            </div>
                        </div>
                    </div>

                    <div class="col-md-4">
                        <h3>{{ viewDate | calendarDate:(view + 'ViewTitle'):'en' }}</h3>
                    </div>

                    <div class="col-md-4">
                        <div class="btn-group">
                            <div class="btn btn-primary" (click)="setView(CalendarView.Month)" [class.active]="view === CalendarView.Month">
                                Month
                            </div>
                            <div class="btn btn-primary" (click)="setView(CalendarView.Week)" [class.active]="view === CalendarView.Week">
                                Week
                            </div>
                            <div class="btn btn-primary" (click)="setView(CalendarView.Day)" [class.active]="view === CalendarView.Day">
                                Day
                            </div>
                        </div>
                    </div>

                </div>

                <div [ngSwitch]="view">

                    <mwl-calendar-month-view *ngSwitchCase="CalendarView.Month" [viewDate]="viewDate" [events]="events" [refresh]="refresh" [activeDayIsOpen]="activeDayIsOpen" (dayClicked)="dayClicked($event.day)" (eventClicked)="handleEvent('Clicked', $event.event)" (eventTimesChanged)="eventTimesChanged($event)">
                    </mwl-calendar-month-view>

                    <mwl-calendar-week-view *ngSwitchCase="CalendarView.Week" [viewDate]="viewDate" [events]="events">
                    </mwl-calendar-week-view>

                    <mwl-calendar-day-view *ngSwitchCase="CalendarView.Day" [viewDate]="viewDate" [events]="events">
                    </mwl-calendar-day-view>

                </div>
            </div>
        </div>
    </div>
</div>